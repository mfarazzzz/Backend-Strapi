# ============================================
# STRAPI v5 ENVIRONMENT CONFIGURATION
# Rampur News Portal - RBAC Implementation
# ============================================

# --------------------------------------------
# SERVER CONFIGURATION
# --------------------------------------------

# Host to bind the server to (0.0.0.0 for all interfaces)
HOST=0.0.0.0

# Port for the Strapi server
PORT=1337

# Enable proxy mode (required when behind nginx/cloudflare)
PROXY=true

# Public URL for the CMS (used for generating URLs)
PUBLIC_URL=https://cms.rampurnews.com

# Strapi public URL (used for media URLs)
STRAPI_PUBLIC_URL=https://cms.rampurnews.com

# Frontend site URL (used for canonical URLs and SEO)
SITE_URL=https://rampurnews.com

# Whether to serve the admin panel (set false if using separate admin deployment)
SERVE_ADMIN=true

# --------------------------------------------
# SECURITY KEYS (MUST CHANGE IN PRODUCTION!)
# --------------------------------------------

# Application keys for session encryption (comma-separated, min 4 keys)
# Generate with: openssl rand -base64 32
APP_KEYS="toBeModified1,toBeModified2,toBeModified3,toBeModified4"

# Salt for API token generation
# Generate with: openssl rand -base64 32
API_TOKEN_SALT=tobemodified

# Secret for admin panel JWT tokens
# Generate with: openssl rand -base64 32
ADMIN_JWT_SECRET=tobemodified

# Salt for transfer tokens (used for data import/export)
# Generate with: openssl rand -base64 32
TRANSFER_TOKEN_SALT=tobemodified

# Secret for users-permissions plugin JWT tokens
# Generate with: openssl rand -base64 32
JWT_SECRET=tobemodified

# Encryption key for sensitive data
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=tobemodified

# --------------------------------------------
# CORS CONFIGURATION
# --------------------------------------------

# Allowed origins for CORS (comma-separated)
# Include all domains that will access the API
CORS_ORIGINS=https://rampurnews.com,https://www.rampurnews.com,http://localhost:3000

# --------------------------------------------
# DATABASE CONFIGURATION
# --------------------------------------------

# Database client: sqlite, postgres, mysql
DATABASE_CLIENT=sqlite

# SQLite configuration (development)
DATABASE_FILENAME=.tmp/data.db

# --------------------------------------------
# PostgreSQL Configuration (Production)
# --------------------------------------------
# DATABASE_CLIENT=postgres
# DATABASE_URL=                    # Full connection URL (alternative to individual settings)
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=strapi
# DATABASE_USERNAME=strapi
# DATABASE_PASSWORD=strapi
# DATABASE_SSL=false               # Set to true for SSL connections
# DATABASE_SSL_REJECT_UNAUTHORIZED=true  # Set to false for self-signed certs

# --------------------------------------------
# MySQL Configuration (Alternative)
# --------------------------------------------
# DATABASE_CLIENT=mysql
# DATABASE_HOST=localhost
# DATABASE_PORT=3306
# DATABASE_NAME=strapi
# DATABASE_USERNAME=strapi
# DATABASE_PASSWORD=strapi
# DATABASE_SSL=false

# --------------------------------------------
# BOOTSTRAP ADMIN USER (Optional)
# --------------------------------------------
# If set, creates an admin user on first startup
# Useful for automated deployments

# Email for bootstrap admin user
BOOTSTRAP_ADMIN_EMAIL=

# Password for bootstrap admin user (use strong password!)
BOOTSTRAP_ADMIN_PASSWORD=

# --------------------------------------------
# UPLOAD CONFIGURATION
# --------------------------------------------

# Maximum upload file size in bytes (default: 50MB)
UPLOAD_SIZE_LIMIT=52428800

# --------------------------------------------
# LOGGING CONFIGURATION
# --------------------------------------------

# Log level: fatal, error, warn, info, debug, trace
# LOG_LEVEL=info

# Enable debug mode for detailed logging
# DEBUG=strapi:*

# --------------------------------------------
# RATE LIMITING (Optional)
# --------------------------------------------

# Enable rate limiting for API endpoints
# RATE_LIMIT_ENABLED=true

# Maximum requests per window
# RATE_LIMIT_MAX=100

# Time window in milliseconds (default: 1 minute)
# RATE_LIMIT_WINDOW=60000

# --------------------------------------------
# EMAIL CONFIGURATION (Optional)
# --------------------------------------------
# Required for password reset and email confirmation

# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@example.com
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=noreply@rampurnews.com

# --------------------------------------------
# CLOUDINARY CONFIGURATION (Optional)
# --------------------------------------------
# For cloud-based media storage

# CLOUDINARY_NAME=your-cloud-name
# CLOUDINARY_KEY=your-api-key
# CLOUDINARY_SECRET=your-api-secret

# --------------------------------------------
# AWS S3 CONFIGURATION (Optional)
# --------------------------------------------
# For S3-based media storage

# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=ap-south-1
# AWS_BUCKET=your-bucket-name

# --------------------------------------------
# SECURITY HEADERS (Optional)
# --------------------------------------------

# Content Security Policy
# CSP_DIRECTIVES=default-src 'self'; img-src 'self' data: blob:;

# --------------------------------------------
# NOTES
# --------------------------------------------
# 
# 1. NEVER commit .env files to version control
# 2. Use different values for development/staging/production
# 3. Generate all secrets using: openssl rand -base64 32
# 4. For production, use environment variables from your hosting platform
# 5. See docs/IMPLEMENTATION-GUIDE.md for detailed setup instructions
#
# Quick Start:
#   1. Copy this file to .env
#   2. Generate and replace all security keys
#   3. Configure database settings
#   4. Run: npm run develop
